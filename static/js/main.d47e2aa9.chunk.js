(this.webpackJsonpmomenton=this.webpackJsonpmomenton||[]).push([[0],{12:function(e,t,n){e.exports=n(20)},17:function(e,t,n){},18:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(6),i=n.n(o),c=(n(17),n(7)),l=n.n(c),u=(n(18),n(1)),s=n.n(u),h=n(2),m=n(3),d=n(4),f=n(10),p=n(8),v=n(11),y=n(9),w="Bad data: with more than 1 employee without managerId",g="Bad data: Employee doesn't has valid id",E="Bad Data: No CEO Found",b=function(){function e(){Object(m.a)(this,e)}return Object(d.a)(e,[{key:"fetchData",value:function(){var e=Object(h.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"transform",value:function(e){var t=Object(y.a)(e),n=t.filter((function(e){return!e.managerId}));if(0===n.length)throw new Error(E);if(n.length>1)throw new Error(w);var r={},a=!0,o=!1,i=void 0;try{for(var c,l=t[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var u=c.value;if(!u.id||null===u.id)throw new Error(g);r[u.id]?r[u.id].current=u:r[u.id]={current:u,children:[]},u.managerId&&r[u.managerId]&&r[u.managerId].children.push(r[u.id]),u.managerId&&!r[u.managerId]&&(r[u.managerId]={children:[r[u.id]]})}}catch(s){o=!0,i=s}finally{try{a||null==l.return||l.return()}finally{if(o)throw i}}return r[n[0].id]}},{key:"findMaxDeep",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!e.children||0===e.children.length)return t+1;var n=0,r=!0,a=!1,o=void 0;try{for(var i,c=e.children[Symbol.iterator]();!(r=(i=c.next()).done);r=!0){var l=i.value,u=this.findMaxDeep(l,t+1);n=Math.max(u,n)}}catch(s){a=!0,o=s}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}]),e}(),k=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(f.a)(this,Object(p.a)(t).call(this,e))).service=void 0,n.service=new b,n.state={},n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(h.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.showSample("data.json");case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"showSample",value:function(){var e=Object(h.a)(s.a.mark((function e(t){var n,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.service.fetchData(t);case 3:n=e.sent,r=this.service.transform(n),a=this.service.findMaxDeep(r),this.setState({employees:n,hierarchy:r,maxDeep:a,error:null},(function(){})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),this.setState({error:e.t0.toString(),hierarchy:null,employees:null});case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"renderItem",value:function(e,t){for(var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=[],i=0;i<t;i++)o.push(a.a.createElement("td",{key:e.current.id+"_"+r+"_"+i},r===i?e.current.name:null));return a.a.createElement(a.a.Fragment,{key:e.current.id},a.a.createElement("tr",{className:"item-row"},o),e.children.map((function(e){return n.renderItem(e,t,r+1)})))}},{key:"render",value:function(){var e=this,t=this.state,n=t.hierarchy,r=void 0===n?null:n,o=t.maxDeep,i=t.error;return a.a.createElement("div",null,a.a.createElement("h1",null,"Company Structure"),a.a.createElement("div",{className:"Buttons"},a.a.createElement("button",{onClick:function(){return e.showSample("data.json")}},"Standard Test"),a.a.createElement("button",{onClick:function(){return e.showSample("data2.json")}},"Dynamic Hierarchy level"),a.a.createElement("button",{onClick:function(){return e.showSample("data3.json")}},"Multiple Empty Manager ID"),a.a.createElement("button",{onClick:function(){return e.showSample("data4.json")}},"With Invalid Manager")),i&&a.a.createElement("div",{className:"Error"},i),r&&a.a.createElement("table",{className:"Org-Chart"},a.a.createElement("tbody",null,this.renderItem(r,o))))}}]),t}(r.Component),j=function(){return a.a.createElement("div",{className:"App"},a.a.createElement("header",{className:"App-header"},a.a.createElement("img",{src:l.a,className:"App-logo",alt:"logo"})),a.a.createElement("div",{className:"App-content"},a.a.createElement(k,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},7:function(e,t,n){e.exports=n.p+"static/media/logo.25bf045c.svg"}},[[12,1,2]]]);
//# sourceMappingURL=main.d47e2aa9.chunk.js.map